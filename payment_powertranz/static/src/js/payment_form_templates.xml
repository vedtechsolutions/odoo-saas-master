<?xml version="1.0" encoding="UTF-8" ?>
<templates xml:space="preserve">
    <t t-name="payment_powertranz.PowerTranzPaymentForm" owl="1">
        <div class="o_payment_powertranz_form d-flex flex-column gap-2 p-3" t-att-id="props.providerId">
            <!-- PowerTranz logo and title -->
            <div class="d-flex align-items-center gap-2 mb-3">
                <img src="/payment_powertranz/static/src/img/powertranz_logo.png" alt="PowerTranz" width="100" height="35" class="o_payment_provider_logo"/>
                <h5 class="mb-0">Secure Credit Card Payment</h5>
            </div>
            
            <!-- Error message display -->
            <div t-if="state.errorMessage" class="alert alert-danger" role="alert">
                <t t-esc="state.errorMessage"/>
            </div>
            
            <!-- Card number input -->
            <div class="form-group">
                <label for="o_payment_powertranz_card_number" class="form-label">Card Number</label>
                <input 
                    type="text" 
                    id="o_payment_powertranz_card_number" 
                    class="form-control" 
                    placeholder="1234 5678 9012 3456" 
                    t-on-input="onCardNumberInput" 
                    t-att-value="state.cardNumber"
                    t-att-disabled="state.isSubmitting"
                    autocomplete="cc-number"
                    inputmode="numeric"
                />
            </div>
            
            <!-- Cardholder name input -->
            <div class="form-group">
                <label for="o_payment_powertranz_cardholder_name" class="form-label">Cardholder Name</label>
                <input 
                    type="text" 
                    id="o_payment_powertranz_cardholder_name" 
                    class="form-control" 
                    placeholder="John Smith" 
                    t-model="state.cardholderName"
                    t-att-disabled="state.isSubmitting"
                    autocomplete="cc-name"
                />
            </div>
            
            <!-- Card expiry and CVV inputs -->
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="o_payment_powertranz_expiry" class="form-label">Expiry Date</label>
                        <input 
                            type="text" 
                            id="o_payment_powertranz_expiry" 
                            class="form-control" 
                            placeholder="MM/YY" 
                            t-on-input="onExpiryDateInput" 
                            t-att-value="state.expiryDate"
                            t-att-disabled="state.isSubmitting"
                            autocomplete="cc-exp"
                            inputmode="numeric"
                            maxlength="5"
                        />
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="o_payment_powertranz_cvv" class="form-label">CVV</label>
                        <input 
                            type="password" 
                            id="o_payment_powertranz_cvv" 
                            class="form-control" 
                            placeholder="123" 
                            t-model="state.cvv"
                            t-att-disabled="state.isSubmitting"
                            autocomplete="cc-csc"
                            inputmode="numeric"
                            maxlength="4"
                        />
                    </div>
                </div>
            </div>
            
            <!-- Tokenization option -->
            <div t-if="props.showTokenizeInput" class="form-check mt-2">
                <input 
                    type="checkbox" 
                    id="o_payment_powertranz_tokenize" 
                    class="form-check-input" 
                    t-model="state.shouldTokenize"
                    t-att-disabled="state.isSubmitting"
                />
                <label for="o_payment_powertranz_tokenize" class="form-check-label">
                    Save card for future use
                </label>
            </div>
            
            <!-- Submit button -->
            <button 
                class="btn btn-primary mt-3" 
                t-on-click="submitForm" 
                t-att-disabled="state.isSubmitting"
            >
                <i t-if="state.isSubmitting" class="fa fa-spinner fa-spin me-2"/>
                <t t-if="!state.isSubmitting">Pay Now</t>
                <t t-else="">Processing...</t>
            </button>
            
            <!-- Secure payment message -->
            <div class="d-flex align-items-center justify-content-center mt-3 text-muted">
                <i class="fa fa-lock me-2"></i> 
                <small>Your payment is secure. Card details are encrypted.</small>
            </div>
        </div>
    </t>
</templates> 