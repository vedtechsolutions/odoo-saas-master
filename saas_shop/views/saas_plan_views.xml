<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <!-- Extend SaaS Plan form view with product info -->
    <record id="saas_plan_view_form_inherit_shop" model="ir.ui.view">
        <field name="name">saas.plan.form.shop</field>
        <field name="model">saas.plan</field>
        <field name="inherit_id" ref="saas_master.saas_plan_view_form"/>
        <field name="arch" type="xml">
            <!-- Add E-commerce group after the yearly_price field's parent group -->
            <xpath expr="//field[@name='yearly_price']/../.." position="after">
                <group string="E-commerce">
                    <field name="shop_visible"/>
                    <field name="shop_featured"/>
                    <field name="product_template_id"/>
                    <field name="product_monthly_id" readonly="1"/>
                    <field name="product_yearly_id" readonly="1"/>
                </group>
            </xpath>
            <!-- Add Shop Features page to notebook -->
            <xpath expr="//page[@name='description']" position="after">
                <page string="Shop Features" name="shop_features">
                    <field name="features_html" widget="html"/>
                </page>
            </xpath>
            <!-- Add header buttons -->
            <xpath expr="//sheet" position="before">
                <header>
                    <button name="action_create_product" string="Create Product" type="object"
                            class="btn-secondary"
                            invisible="product_template_id"/>
                    <button name="action_sync_product_prices" string="Sync Prices" type="object"
                            class="btn-secondary"
                            invisible="not product_template_id"/>
                </header>
            </xpath>
        </field>
    </record>

</odoo>
